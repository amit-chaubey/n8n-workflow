{
  "name": "RAG using Google Drive-n8n",
  "nodes": [
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "triggerOn": "specificFile",
        "fileToWatch": {
          "__rl": true,
          "value": "1LrhUBTFhoxKB0F3r0CKH8HjoajPvfUrw",
          "mode": "list",
          "cachedResultName": "PYTHON.pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1LrhUBTFhoxKB0F3r0CKH8HjoajPvfUrw/view?usp=drivesdk"
        }
      },
      "type": "n8n-nodes-base.googleDriveTrigger",
      "typeVersion": 1,
      "position": [
        -848,
        -80
      ],
      "id": "b9291840-4788-406f-a1eb-bd034720dcf2",
      "name": "GoogleAuth",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "UNyabSwdYS81D3lK",
          "name": "Google Drive account 3"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "n8n-drive",
          "mode": "list",
          "cachedResultName": "n8n-drive"
        },
        "embeddingBatchSize": 512,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        -320,
        -80
      ],
      "id": "c313d01a-3784-4e0e-8030-826ecc04442d",
      "name": "Pinecone Vector Store",
      "notesInFlow": true,
      "credentials": {
        "pineconeApi": {
          "id": "gu298BLCYupDbYuB",
          "name": "PineconeApi account"
        }
      },
      "notes": "Always Output Data"
    },
    {
      "parameters": {
        "options": {
          "dimensions": 512,
          "batchSize": 512
        }
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        -688,
        224
      ],
      "id": "e92d2f58-2d4b-403e-8823-74d4333c51e3",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "nrfLZC4WbG9smHj4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        -304,
        208
      ],
      "id": "135d443d-32cd-4fce-b96a-9303c21ee98e",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant! user query must be answered only and only using the pinecone vector database. use the pinecone and its embeddings to get the info and answer the same. dont answer anything else. simple say sorry if you cant find answer."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        672,
        -432
      ],
      "id": "2b6aa1f6-7b2d-4292-9a2f-5a7f2f48b41f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        128,
        -272
      ],
      "id": "c71ebbd7-4c4f-4619-a566-f52ae0ad3db6",
      "name": "When chat message received",
      "webhookId": "656a7604-6f5c-465d-aa8e-716fcb102f9b"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        432,
        16
      ],
      "id": "4eb6220d-24ef-4da7-a57e-7176c2fd2d79",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "nrfLZC4WbG9smHj4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "dimensions": 512
        }
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        736,
        496
      ],
      "id": "06cd6c35-3ad1-41ca-a35b-2d5ec149be1b",
      "name": "Embeddings OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "nrfLZC4WbG9smHj4",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "call this tool to access data.",
        "pineconeIndex": {
          "__rl": true,
          "value": "n8n-drive",
          "mode": "list",
          "cachedResultName": "n8n-drive"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        992,
        -80
      ],
      "id": "567e9b75-c64c-473d-8d64-b09ca6de0084",
      "name": "Pinecone Vector Store2",
      "credentials": {
        "pineconeApi": {
          "id": "gu298BLCYupDbYuB",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        720,
        -16
      ],
      "id": "69d48a8b-872a-432e-ae49-96f46bcf24b4",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "1LrhUBTFhoxKB0F3r0CKH8HjoajPvfUrw",
          "mode": "list",
          "cachedResultName": "PYTHON.pdf",
          "cachedResultUrl": "https://drive.google.com/file/d/1LrhUBTFhoxKB0F3r0CKH8HjoajPvfUrw/view?usp=drivesdk"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -528,
        -80
      ],
      "id": "65e7f36f-064f-4e52-96af-bbacdda52da5",
      "name": "Download file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "UNyabSwdYS81D3lK",
          "name": "Google Drive account 3"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "GoogleAuth": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store2",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "main": [
        []
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "35b86b5b-06c1-466d-a615-d06737920948",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ce85ea57e4db032a0248e1e439a424030526fb77c1c5755ef639ff3c03d0c7f8"
  },
  "id": "BybLtlij6U7kj94H",
  "tags": []
}